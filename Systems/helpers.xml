<?xml version="1.0"?>

<PropertyList>
	
	<!--Copilot Model visibility-->
	
	<filter>
		<type>gain</type>
		<gain>1</gain>
		<input>
			<condition>
				<greater-than-equals>
					<property>sim/weight[1]/weight-lb</property>
					<value>80</value>
				</greater-than-equals>
			</condition>
			<value>1</value>
		</input>
		<input>
			<condition>
				<less-than>
					<property>sim/weight[1]/weight-lb</property>
					<value>0</value>
				</less-than>
			</condition>
			<value>0</value>
		</input>
		<output>sim/model/copilot-present</output>
	</filter>
	
	<!--Rope Breakage-->
  
	<filter>
		<type>gain</type>
		<gain>1</gain>
		<input>
			<condition>
				<equals>
					<property>sim/flight-model</property>
					<value>yasim</value>
				</equals>
			</condition>
			<property>position/gear-agl-m</property>	
		</input>
		<input>
			<condition>
				<equals>
					<property>sim/flight-model</property>
					<value>jsb</value>
				</equals>
			</condition>
			<expression>
				<sum>
					<property>position/altitude-agl-m</property>
					<value>1</value>
				</sum>
			</expression>			
		</input>
		<output>systems/breakage/alt_used</output>
	</filter>
	<filter>
		<type>gain</type>
		<gain>1</gain>
		<enable>
			<condition>
				<and>
					<equals>
						<property>/controls/breakage/enabled</property>
						<value>1</value>
					</equals>
					<equals>
						<property>sim/hitches/winch/open</property>
						<value>0</value>
					</equals>
					<equals>
						<property>sim/flight-model</property>
						<value>yasim</value>
					</equals>
					<greater-than-equals>
						<property>systems/breakage/alt_used</property>
						<property>controls/breakage/altitude-m</property>
					</greater-than-equals>
				</and>
			</condition>
		</enable>				
		<input>1</input>
		<output>sim/hitches/winch/open</output>
	</filter>
	<filter>
		<type>gain</type>
		<gain>1</gain>
		<enable>
			<condition>
				<and>
					<equals>
						<property>/controls/breakage/enabled</property>
						<value>1</value>
					</equals>
					<equals>
						<property>sim/glider/winch/flags/hooked</property>
						<value>1</value>
					</equals>
					<equals>
						<property>sim/flight-model</property>
						<value>jsb</value>
					</equals>
					<greater-than-equals>
						<property>systems/breakage/alt_used</property>
						<property>controls/breakage/altitude-m</property>
					</greater-than-equals>
				</and>
			</condition>
		</enable>				
		<input>1</input>
		<output>sim/hitches/winch/open</output>
	</filter>
</PropertyList>
